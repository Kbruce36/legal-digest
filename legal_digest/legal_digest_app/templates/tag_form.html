{% extends 'base.html' %}

{% block title %}{% if tag %}Edit Tag{% else %}New Tag{% endif %} | AI and Human Rights Hub{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
<style>
  header { display: none; }
  main { max-width: none; margin: 0; padding: 0; }
  :root {
    --navy-dark: #1e293b;
  }
  body { background-color: #f8fafc; }
  .navbar-custom { background-color: var(--navy-dark); }
  .navbar-custom .navbar-brand { font-weight: 700; color: #fff; }
  .navbar-custom .nav-link { color: rgba(255,255,255,0.85); }
  .navbar-custom .nav-link:hover { color: #fff; }
</style>
{% endblock %}

{% block content %}
<nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container">
    <a class="navbar-brand" href="{% url 'legal_digest_app:index' %}">
      <i class="bi bi-cpu me-2"></i>AI and Human Rights Hub
    </a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'legal_digest_app:dashboard' %}">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'legal_digest_app:tag_list' %}">Tags</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<main class="py-4">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">{% if tag %}Edit Tag{% else %}Create New Tag{% endif %}</h5>
          </div>
          <div class="card-body">
            {% if messages %}
              {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
              </div>
              {% endfor %}
            {% endif %}

            <form method="post">
              {% csrf_token %}
              <div class="mb-3">
                <label for="name" class="form-label">Tag Name</label>
                <input type="text" 
                       class="form-control" 
                       id="name" 
                       name="name" 
                       value="{% if tag %}{{ tag.name }}{% endif %}"
                       required
                       placeholder="e.g., Constitutional Law">
                <small class="form-text text-muted">Enter a descriptive name for this tag.</small>
              </div>

              <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-check-circle me-1"></i>{% if tag %}Update{% else %}Create{% endif %} Tag
                </button>
                <a href="{% url 'legal_digest_app:tag_list' %}" class="btn btn-outline-secondary">
                  <i class="bi bi-x-circle me-1"></i>Cancel
                </a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
